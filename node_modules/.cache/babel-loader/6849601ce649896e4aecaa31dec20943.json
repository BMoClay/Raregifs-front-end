{"ast":null,"code":"var _jsxFileName = \"/Users/benmorgan-cleveland/Development/code/Mod5/Raregifs-front-end/src/Components/UploadArtForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport { Image } from \"cloudinary-react\"; // import styles from \"./styles/Home.module.css\";\n\nimport { Form, Embed, Container } from \"semantic-ui-react\";\nimport { useHistory } from \"react-router-dom\";\nimport { db, storage } from \"../api/fireabse.config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UploadArtForm({\n  currentUser,\n  onCreateArtwork\n}) {\n  _s();\n\n  // window.scrollTo({\n  //   top: 0,\n  //   left: 0,\n  //   behavior: 'smooth'\n  // });\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const history = useHistory();\n  const [files, setFiles] = useState([]);\n  const onDrop = useCallback(filees => {\n    setFiles(filees);\n  });\n\n  const onSubmit = () => {\n    let image = [];\n\n    for (let i = 0; i < files.length; i++) {\n      var task = storage.ref().child(files[i].name).put(files[i]);\n      task.then(shot => {\n        shot.ref.getDownloadURL().then(url => {\n          image.push({\n            url,\n            title: \"\"\n          });\n\n          if (image.length === files.length) {\n            setFiles(image);\n          }\n        });\n      });\n    }\n  };\n\n  const addTitle = (value, index) => {\n    let array = [...files];\n    array[index] = { ...array[index],\n      title: value\n    };\n    setFiles(array);\n  };\n\n  function handleSubmitNewArtwork(e) {\n    e.preventDefault();\n\n    for (let index = 0; index < files.length; index++) {\n      const {\n        title,\n        url\n      } = files[index];\n      axios.post(\"/artworks\", {\n        title,\n        image: url,\n        user_id: currentUser.id\n      }).then(async response => {\n        await db.collection(\"artworks\").add(response.data);\n        onCreateArtwork(response.data);\n        history.push(\"/\");\n        window.scrollTo(0, 0);\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"0px 170px 0px 170px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"1. draw something below using the drawing pad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"2. When you're done click the blue 'Save Image' icon to the right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"3. then click 'Save', this will save it as a PNG image file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-responsive\" // style={{\n          //         left: 0,\n          //         top: 0,\n          //         // height= 100%\n          //         // width= 100%\n          //         position: absolute,\n          //  }}\n          ,\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: \"https://kleki.com/\",\n            frameborder: \"0\",\n            allow: \"autoplay; encrypted-media\",\n            width: \"1000\",\n            height: \"560\",\n            allowfullscreen: \"true\",\n            title: \"video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"4. drag the file you just saved and drop it directly into the google slides slide deck below where it says 'Click to add title'\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"5. after that right click the slide in the left column and select 'Duplicate slide' repeatedly\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"6. In each slide move the image (by dragging and dropping it) so none of the slides have the image in the same place\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"7. go to the 'File' dropdown, click it and select download then choose to download the file as a pdf file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-responsive\" // style={{\n          //         left: 0,\n          //         top: 0,\n          //         // height= 100%\n          //         // width= 100%\n          //         position: absolute,\n          //  }}\n          ,\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: \"https://slides.google.com/create\",\n            frameborder: \"0\",\n            allow: \"autoplay; encrypted-media\",\n            width: \"1000\",\n            height: \"560\",\n            allowfullscreen: \"true\",\n            title: \"video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"8. now upload the pdf file to the EZGif converter by dragging it and dropping it directly on the 'Choose Files' button below\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"9. click the 'Upload!' button\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"10. directly below that will appear 'Options', check the 'Create animated GIF box' and click 'Convert to GIF'\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"11. scroll down a tiny bit and click the save icon, almost done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-responsive\" // style={{\n          //         left: 0,\n          //         top: 0,\n          //         // height= 100%\n          //         // width= 100%\n          //         position: absolute,\n          //  }}\n          ,\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: \"https://ezgif.com/pdf-to-gif\",\n            frameborder: \"0\",\n            allow: \"autoplay; encrypted-media\",\n            width: \"1000\",\n            height: \"560\",\n            allowfullscreen: \"true\",\n            title: \"video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"12. drag and drop the newly saved gif file below then click 'done'\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DropzoneArea, {\n          onChange: onDrop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSubmit,\n          children: \"done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: uploadedFiles.map(file => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              cloudName: process.env.REACT_APP_CLOUDINARY_CLOUD_NAME,\n              publicId: file.public_id,\n              crop: \"scale\",\n              frameborder: \"0\",\n              width: \"1000\",\n              allowfullscreen: \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this)\n          }, file.public_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmitNewArtwork,\n        children: [files.map((file, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"13. title your work below\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"14. click upload to Raregifs and enjoy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              widths: \"equal\",\n              children: [file.url && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: file.url,\n                style: {\n                  width: \"10em\",\n                  height: \"6em\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                // label=\"add a title here then click submit to upload it to Raregifs\"\n                value: file.title || \"\",\n                placeholder: \"title\",\n                type: \"text\",\n                length: \"20em\",\n                onChange: e => addTitle(e.target.value, index)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(Form.Button, {\n          children: \"upload to Raregifs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UploadArtForm, \"hzCBrv7EVF5xtR0ze2/evzM/Vm4=\", false, function () {\n  return [useHistory];\n});\n\n_c = UploadArtForm;\nexport default UploadArtForm;\n\nasync function getSignature() {\n  const response = await fetch(\"/api/sign\"); // const response = await axios.post('/api/sign');\n\n  console.log(response); // const data = await response.json();\n\n  const data = await response;\n  return data; // const { signature, timestamp } = data;\n  // return { signature, timestamp };\n} // const url = `https://api.cloudinary.com/v1_1/raregifs/upload`;\n// acceptedFiles.forEach(async (acceptedFile) => {\n//   const { signature, timestamp } = await getSignature();\n//   const formData = new FormData();\n//   formData.append(\"file\", acceptedFile);\n//   // formData.append(\"upload_preset\", process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET)\n//   formData.append(\"signature\", signature);\n//   formData.append(\"timestamp\", timestamp);\n//   formData.append(\"api_key\", process.env.REACT_APP_CLOUDINARY_KEY);\n//   const response = await fetch(url, {\n//     method: \"post\",\n//     body: formData,\n//   });\n//   const data = await response.json();\n//   setUploadedFiles((old) => [...old, data]);\n// });\n// }, []);\n// const { getRootProps, getInputProps, isDragActive } = useDropzone({\n//     onDrop,\n//     accepts: \"image/*\",\n//     multiple: false,\n// })\n// <h4>draw something then save it</h4>\n//       <Embed icon=\"paint brush\" url=\"https://kleki.com/\" />\n//       <br></br>\n//       <h4>drop the file into slides, duplicate and move it around then turn it into slideshow and download it as a pdf</h4>\n//       <Embed\n//         icon=\"file pdf\"\n//         url=\"https://docs.google.com/presentation/d/1MXF9c1oGW3kR93imVzaFhlsm_-HYOzQZlsfwPv67BGs/edit#slide=id.p\"\n//       />\n//       <br></br>\n//       <h4>convert it from a pdf to gif</h4>\n//       <Embed\n//         style={{ height: 2800 }}\n//         icon=\"stack exchange\"\n//         url=\"https://ezgif.com/pdf-to-gif\"\n//       /> \n//  <Embed style={{ height: 2800 }} icon=\"stack exchange\" url=\"https://ezgif.com/pdf-to-gif\"/> \n//          <div {...getRootProps()} className={`${styles.dropzone} ${isDragActive ? styles.active : null}`}>\n//                 <input {...getInputProps()}/>    \n//                 Drop Zone\n//             </div> \n\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadArtForm\");","map":{"version":3,"sources":["/Users/benmorgan-cleveland/Development/code/Mod5/Raregifs-front-end/src/Components/UploadArtForm.js"],"names":["React","useState","useCallback","axios","DropzoneArea","Image","Form","Embed","Container","useHistory","db","storage","UploadArtForm","currentUser","onCreateArtwork","uploadedFiles","setUploadedFiles","history","files","setFiles","onDrop","filees","onSubmit","image","i","length","task","ref","child","name","put","then","shot","getDownloadURL","url","push","title","addTitle","value","index","array","handleSubmitNewArtwork","e","preventDefault","post","user_id","id","response","collection","add","data","window","scrollTo","margin","map","file","process","env","REACT_APP_CLOUDINARY_CLOUD_NAME","public_id","width","height","target","getSignature","fetch","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport { Image } from \"cloudinary-react\";\n// import styles from \"./styles/Home.module.css\";\nimport { Form, Embed, Container } from \"semantic-ui-react\";\nimport { useHistory } from \"react-router-dom\";\nimport { db, storage } from \"../api/fireabse.config\";\n\nfunction UploadArtForm({ currentUser, onCreateArtwork }) {\n  // window.scrollTo({\n  //   top: 0,\n  //   left: 0,\n  //   behavior: 'smooth'\n  // });\n\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n\n  const history = useHistory();\n  const [files, setFiles] = useState([]);\n\n  const onDrop = useCallback((filees) => {\n    setFiles(filees);\n  });\n\n  const onSubmit = () => {\n    let image = [];\n    for (let i = 0; i < files.length; i++) {\n      var task = storage.ref().child(files[i].name).put(files[i]);\n      task.then((shot) => {\n        shot.ref.getDownloadURL().then((url) => {\n          image.push({ url, title: \"\" });\n          if (image.length === files.length) {\n            setFiles(image);\n          }\n        });\n      });\n    }\n  };\n\n  const addTitle = (value, index) => {\n    let array = [...files];\n    array[index] = { ...array[index], title: value };\n    setFiles(array);\n  };\n\n  function handleSubmitNewArtwork(e) {\n    e.preventDefault();\n    for (let index = 0; index < files.length; index++) {\n      const { title, url } = files[index];\n      axios\n        .post(\"/artworks\", {\n          title,\n          image: url,\n          user_id: currentUser.id,\n        })\n        .then(async (response) => {\n         await db.collection(\"artworks\").add(response.data);\n          onCreateArtwork(response.data);\n          history.push(\"/\");\n          window.scrollTo(0, 0);\n        });\n    }\n  }\n\n  return (\n    <div style={{ margin: \"0px 170px 0px 170px\" }}>\n      <Container>\n        <>\n          <br></br>\n          <h4>1. draw something below using the drawing pad</h4>\n          <h4>\n            2. When you're done click the blue 'Save Image' icon to the right\n          </h4>\n          <h4>3. then click 'Save', this will save it as a PNG image file</h4>\n          <div\n            className=\"video-responsive\"\n            // style={{\n            //         left: 0,\n            //         top: 0,\n            //         // height= 100%\n            //         // width= 100%\n            //         position: absolute,\n            //  }}\n          >\n            <iframe\n              src=\"https://kleki.com/\"\n              frameborder=\"0\"\n              allow=\"autoplay; encrypted-media\"\n              width=\"1000\"\n              height=\"560\"\n              allowfullscreen=\"true\"\n              title=\"video\"\n            />\n          </div>\n          <br></br>\n          <h4>\n            4. drag the file you just saved and drop it directly into the google\n            slides slide deck below where it says 'Click to add title'\n          </h4>\n          <h4>\n            5. after that right click the slide in the left column and select\n            'Duplicate slide' repeatedly\n          </h4>\n          <h4>\n            6. In each slide move the image (by dragging and dropping it) so\n            none of the slides have the image in the same place\n          </h4>\n          <h4>\n            7. go to the 'File' dropdown, click it and select download then\n            choose to download the file as a pdf file\n          </h4>\n          <div\n            className=\"video-responsive\"\n            // style={{\n            //         left: 0,\n            //         top: 0,\n            //         // height= 100%\n            //         // width= 100%\n            //         position: absolute,\n            //  }}\n          >\n            <iframe\n              src=\"https://slides.google.com/create\"\n              frameborder=\"0\"\n              allow=\"autoplay; encrypted-media\"\n              width=\"1000\"\n              height=\"560\"\n              allowfullscreen=\"true\"\n              title=\"video\"\n            />\n          </div>\n          <br></br>\n          <h4>\n            8. now upload the pdf file to the EZGif converter by dragging it and\n            dropping it directly on the 'Choose Files' button below\n          </h4>\n          <h4>9. click the 'Upload!' button</h4>\n          <h4>\n            10. directly below that will appear 'Options', check the 'Create\n            animated GIF box' and click 'Convert to GIF'\n          </h4>\n          <h4>\n            11. scroll down a tiny bit and click the save icon, almost done\n          </h4>\n          <div\n            className=\"video-responsive\"\n            // style={{\n            //         left: 0,\n            //         top: 0,\n            //         // height= 100%\n            //         // width= 100%\n            //         position: absolute,\n            //  }}\n          >\n            <iframe\n              src=\"https://ezgif.com/pdf-to-gif\"\n              frameborder=\"0\"\n              allow=\"autoplay; encrypted-media\"\n              width=\"1000\"\n              height=\"560\"\n              allowfullscreen=\"true\"\n              title=\"video\"\n            />\n          </div>\n          <br></br>\n          <h4>\n            12. drag and drop the newly saved gif file below then click 'done'\n          </h4>\n          <DropzoneArea onChange={onDrop} />\n          <button onClick={onSubmit}>done</button>\n          <ul>\n            {uploadedFiles.map((file) => (\n              <li key={file.public_id}>\n                <Image\n                  cloudName={process.env.REACT_APP_CLOUDINARY_CLOUD_NAME}\n                  publicId={file.public_id}\n                  crop=\"scale\"\n                  frameborder=\"0\"\n                  width=\"1000\"\n                  allowfullscreen=\"true\"\n                />\n              </li>\n            ))}\n          </ul>\n        </>\n        <br></br>\n        <Form onSubmit={handleSubmitNewArtwork}>\n          {files.map((file, index) => {\n            return (\n              <div>\n                <br></br>\n                <h4>13. title your work below</h4>\n                <h4>14. click upload to Raregifs and enjoy</h4>\n                <Form.Group widths=\"equal\">\n                  {file.url && (\n                    <img\n                      src={file.url}\n                      style={{ width: \"10em\", height: \"6em\" }}\n                    />\n                  )}\n                  <Form.Input\n                    // label=\"add a title here then click submit to upload it to Raregifs\"\n                    value={file.title || \"\"}\n                    placeholder=\"title\"\n                    type=\"text\"\n                    length=\"20em\"\n                    onChange={(e) => addTitle(e.target.value, index)}\n                  />\n                  {/* {file.url && (\n                    <img\n                      src={file.url}\n                      style={{ width: \"10em\", height: \"6em\" }}\n                    />\n                  )} */}\n                </Form.Group>\n              </div>\n            );\n          })}\n          <Form.Button>upload to Raregifs</Form.Button>\n          <br></br>\n        </Form>\n      </Container>\n    </div>\n  );\n}\n\nexport default UploadArtForm;\n\nasync function getSignature() {\n  const response = await fetch(\"/api/sign\");\n  // const response = await axios.post('/api/sign');\n  console.log(response);\n  // const data = await response.json();\n  const data = await response;\n\n  return data;\n  // const { signature, timestamp } = data;\n  // return { signature, timestamp };\n}\n\n\n  // const url = `https://api.cloudinary.com/v1_1/raregifs/upload`;\n\n  // acceptedFiles.forEach(async (acceptedFile) => {\n  //   const { signature, timestamp } = await getSignature();\n\n  //   const formData = new FormData();\n  //   formData.append(\"file\", acceptedFile);\n  //   // formData.append(\"upload_preset\", process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET)\n  //   formData.append(\"signature\", signature);\n  //   formData.append(\"timestamp\", timestamp);\n  //   formData.append(\"api_key\", process.env.REACT_APP_CLOUDINARY_KEY);\n\n  //   const response = await fetch(url, {\n  //     method: \"post\",\n  //     body: formData,\n  //   });\n  //   const data = await response.json();\n  //   setUploadedFiles((old) => [...old, data]);\n  // });\n  // }, []);\n\n  // const { getRootProps, getInputProps, isDragActive } = useDropzone({\n  //     onDrop,\n  //     accepts: \"image/*\",\n  //     multiple: false,\n  // })\n\n\n  // <h4>draw something then save it</h4>\n  //       <Embed icon=\"paint brush\" url=\"https://kleki.com/\" />\n  //       <br></br>\n  //       <h4>drop the file into slides, duplicate and move it around then turn it into slideshow and download it as a pdf</h4>\n  //       <Embed\n  //         icon=\"file pdf\"\n  //         url=\"https://docs.google.com/presentation/d/1MXF9c1oGW3kR93imVzaFhlsm_-HYOzQZlsfwPv67BGs/edit#slide=id.p\"\n  //       />\n  //       <br></br>\n  //       <h4>convert it from a pdf to gif</h4>\n  //       <Embed\n  //         style={{ height: 2800 }}\n  //         icon=\"stack exchange\"\n  //         url=\"https://ezgif.com/pdf-to-gif\"\n  //       /> \n\n\n  //  <Embed style={{ height: 2800 }} icon=\"stack exchange\" url=\"https://ezgif.com/pdf-to-gif\"/> \n  //          <div {...getRootProps()} className={`${styles.dropzone} ${isDragActive ? styles.active : null}`}>\n  //                 <input {...getInputProps()}/>    \n  //                 Drop Zone\n  //             </div> "]},"metadata":{},"sourceType":"module"}