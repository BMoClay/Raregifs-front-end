{"ast":null,"code":"import _slicedToArray from\"/Users/benmorgan-cleveland/Development/code/Mod5/Raregifs-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{Grid,Image,Button,Header,Modal,Form}from'semantic-ui-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function StorageCardArt(_ref){var artwork=_ref.artwork,onDeleteArtwork=_ref.onDeleteArtwork,onUpdateArtwork=_ref.onUpdateArtwork;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var aUsers=artwork.acquiring_users.map(function(user){return/*#__PURE__*/_jsx(\"div\",{children:user.name},user.id);});var id=artwork.id,title=artwork.title,image=artwork.image;var _useState=useState(title),_useState2=_slicedToArray(_useState,2),updatedTitle=_useState2[0],setUpdatedTitle=_useState2[1];function handleDeleteClick(){axios.delete(\"/artworks/\".concat(id)).then(function(response){onDeleteArtwork(response.data);});}function handleUpdateArtworkSubmit(e){e.preventDefault();axios.patch(\"/artworks/\".concat(id),{title:updatedTitle}).then(function(response){onUpdateArtwork(response.data);});}function handleUpdateClick(e){e.preventDefault();handleUpdateArtworkSubmit(e);setOpen(false);}return/*#__PURE__*/_jsx(Grid,{stackable:true,centered:true,style:{margin:10,padding:40},children:/*#__PURE__*/_jsxs(Modal,{onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,trigger:/*#__PURE__*/_jsx(Image,{size:\"large\",src:image}),children:[/*#__PURE__*/_jsxs(Modal.Content,{image:true,children:[/*#__PURE__*/_jsx(Image,{wrapped:true,size:\"huge\",src:image,alt:title}),/*#__PURE__*/_jsxs(Modal.Description,{children:[/*#__PURE__*/_jsx(Header,{children:title}),artwork.acquiring_users.length>0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"collected by:\",aUsers]})}):/*#__PURE__*/_jsx(_Fragment,{})]})]}),/*#__PURE__*/_jsxs(Modal.Actions,{children:[/*#__PURE__*/_jsxs(Form,{onSubmit:handleUpdateClick,children:[/*#__PURE__*/_jsx(Form.Input,{fluid:true,label:\"update title\",type:\"text\",name:\"title\",autoComplete:\"off\",value:updatedTitle,onChange:function onChange(e){return setUpdatedTitle(e.target.value);}}),/*#__PURE__*/_jsx(Form.Button,{children:\"submit\"})]}),/*#__PURE__*/_jsx(Button,{content:\"delete\",labelPosition:\"right\",icon:\"trash\",onClick:handleDeleteClick,negative:true})]})]})});}export default StorageCardArt;","map":{"version":3,"sources":["/Users/benmorgan-cleveland/Development/code/Mod5/Raregifs-front-end/src/Components/StorageCardArt.js"],"names":["React","useState","axios","Grid","Image","Button","Header","Modal","Form","StorageCardArt","artwork","onDeleteArtwork","onUpdateArtwork","open","setOpen","aUsers","acquiring_users","map","user","name","id","title","image","updatedTitle","setUpdatedTitle","handleDeleteClick","delete","then","response","data","handleUpdateArtworkSubmit","e","preventDefault","patch","handleUpdateClick","margin","padding","length","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { \n    Grid,\n    Image,\n    Button,\n    Header,\n    Modal,\n    Form,\n  } from 'semantic-ui-react'\n\nfunction StorageCardArt({ \n                artwork, \n                onDeleteArtwork, \n                onUpdateArtwork,\n             }) {\n\n    const [open, setOpen] = React.useState(false)\n    const aUsers = artwork.acquiring_users.map((user) => {\n        return (\n            <div key={user.id}>{user.name}</div>\n        )\n    })\n    \n    const { id, title, image } = artwork\n    const [updatedTitle, setUpdatedTitle] = useState(title)\n\n    function handleDeleteClick() {\n        axios.delete(`/artworks/${id}`)\n            .then(response => {\n                onDeleteArtwork(response.data)\n            })\n        }\n\n    function handleUpdateArtworkSubmit(e) {\n        e.preventDefault();\n        axios.patch(`/artworks/${id}`, { title: updatedTitle })\n            .then((response) => {\n                onUpdateArtwork(response.data)\n            })\n    }\n\n    function handleUpdateClick(e) {\n        e.preventDefault();\n        handleUpdateArtworkSubmit(e)\n        setOpen(false)\n      }\n\n    return (\n        <Grid \n          stackable centered \n          style={{ \n            margin: 10,\n            padding: 40,\n          }}\n          >\n              <Modal\n                onClose={() => setOpen(false)}\n                onOpen={() => setOpen(true)}\n                open={open}\n                trigger={<Image size=\"large\" src={image} />}\n            >\n                 <Modal.Content image >\n                  <Image wrapped size=\"huge\" src={image} alt={title}/>\n                  <Modal.Description>\n                    <Header>{title}</Header>\n                    {artwork.acquiring_users.length > 0? (\n                        <>\n                            <h4>collected by:{aUsers}</h4>\n                        </>\n                    ) : (\n                        <>\n                        </>\n                    )}\n                  </Modal.Description>\n                </Modal.Content>\n                <Modal.Actions>\n                  <Form onSubmit={handleUpdateClick}>\n                    <Form.Input \n                        fluid \n                        label='update title'\n                        type='text'\n                        name=\"title\"\n                        autoComplete=\"off\"\n                        value={updatedTitle}\n                        onChange={(e) => setUpdatedTitle(e.target.value)}\n                    />\n                    <Form.Button>submit</Form.Button>\n                  </Form>\n                  <Button\n                    content=\"delete\"\n                    labelPosition='right'\n                    icon='trash'\n                    onClick={handleDeleteClick}\n                    negative\n                  />\n                </Modal.Actions>\n            </Modal>\n        </Grid>\n    )\n}\n\nexport default StorageCardArt;    \n"]},"metadata":{},"sourceType":"module"}