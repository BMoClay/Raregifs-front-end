{"ast":null,"code":"import _toConsumableArray from\"/Users/benmorgan-cleveland/Development/code/Mod5/Raregifs-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/benmorgan-cleveland/Development/code/Mod5/Raregifs-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Switch,Route}from'react-router-dom';import axios from'axios';import NavBar from'./NavBar';import Signup from'./Signup';import Login from'./Login';import Upload from'./UploadArtForm';import ArtPage from'./ArtPage';import UserPage from'./UserPage';import StoragePage from'./StoragePage';import Account from'./Account';import Demo from'./Demo';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),artworks=_useState4[0],setArtworks=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),users=_useState6[0],setUsers=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),acquisitions=_useState8[0],setAcquisitions=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),comments=_useState10[0],setComments=_useState10[1];useEffect(function(){axios.get(\"/me\").then(function(response){setCurrentUser(response.data);});},[]);useEffect(function(){axios.get('/artworks')// .then((res) => res.json())\n.then(function(response){setArtworks(response.data.reverse());});},[]);useEffect(function(){axios.get('/users').then(function(response){setUsers(response.data);});},[]);useEffect(function(){axios.get('/acquisitions').then(function(response){setAcquisitions(response.data);});},[]);useEffect(function(){axios.get('/comments').then(function(response){setComments(response.data);});},[]);function handleAddAcquisition(newUserAcq){var updatedAcquisitionsArray=[newUserAcq].concat(_toConsumableArray(acquisitions));setAcquisitions(updatedAcquisitionsArray);}function handleAddArtwork(newArtwork){var updatedArtworksArray=[newArtwork].concat(_toConsumableArray(artworks));setArtworks(updatedArtworksArray);}function handleDeleteAcquisition(acquisitionObject){var id=acquisitionObject.id;var updatedAcqA=acquisitions.filter(function(acquisition){return acquisition.id!==id;});setAcquisitions(updatedAcqA);}function handleUpdateArtwork(updatedArtwork){var id=updatedArtwork.id;var updatedArtA=artworks.map(function(artwork){if(artwork.id===id){return updatedArtwork;}else{return artwork;}});setArtworks(updatedArtA);}function handleDeleteArtwork(artworkObj){var id=artworkObj.id;var updatedArtworksArray=artworks.filter(function(artwork){return artwork.id!==id;});setArtworks(updatedArtworksArray);}function handleDeleteUser(userObj){console.log(userObj);var id=userObj.id;var updatedUsersArray=users.filter(function(user){return user.id!==id;});setUsers(updatedUsersArray);}function handleAddComment(newComment){var updatedCommentsArray=[newComment].concat(_toConsumableArray(comments));setComments(updatedCommentsArray);}function handleDeleteComment(commentObj){var id=commentObj.id;var updatedCommentsArray=comments.filter(function(comment){return comment.id!==id;});setComments(updatedCommentsArray);}console.log(currentUser);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(NavBar,{currentUser:currentUser,setCurrentUser:setCurrentUser}),/*#__PURE__*/_jsx(Switch,{children:currentUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/studio\",children:/*#__PURE__*/_jsx(Upload,{currentUser:currentUser,onCreateArtwork:handleAddArtwork})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/my_storage\",children:/*#__PURE__*/_jsx(StoragePage,{currentUser:currentUser,acquisitions:acquisitions,artworks:artworks,onDeleteArtwork:handleDeleteArtwork,onDeleteAcquisition:handleDeleteAcquisition,onUpdateArtwork:handleUpdateArtwork})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/account\",children:/*#__PURE__*/_jsx(Account,{setCurrentUser:setCurrentUser,currentUser:currentUser,onDeleteUser:handleDeleteUser})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(ArtPage,{currentUser:currentUser,artworks:artworks,onAcquireArtwork:handleAddAcquisition})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/users_collections\",children:/*#__PURE__*/_jsx(UserPage,{users:users,comments:comments,acquisitions:acquisitions,currentUser:currentUser,onAcquireArtwork:handleAddAcquisition,onAddComment:handleAddComment,onDeleteComment:handleDeleteComment})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/demo\",children:/*#__PURE__*/_jsx(Demo,{})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",children:/*#__PURE__*/_jsx(Login,{setCurrentUser:setCurrentUser})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",children:/*#__PURE__*/_jsx(Signup,{setCurrentUser:setCurrentUser})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(ArtPage,{currentUser:currentUser,artworks:artworks,onAcquireArtwork:handleAddAcquisition})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/demo\",children:/*#__PURE__*/_jsx(Demo,{})})]})})]});}export default App;","map":{"version":3,"sources":["/Users/benmorgan-cleveland/Development/code/Mod5/Raregifs-front-end/src/Components/App.js"],"names":["React","useEffect","useState","Switch","Route","axios","NavBar","Signup","Login","Upload","ArtPage","UserPage","StoragePage","Account","Demo","App","currentUser","setCurrentUser","artworks","setArtworks","users","setUsers","acquisitions","setAcquisitions","comments","setComments","get","then","response","data","reverse","handleAddAcquisition","newUserAcq","updatedAcquisitionsArray","handleAddArtwork","newArtwork","updatedArtworksArray","handleDeleteAcquisition","acquisitionObject","id","updatedAcqA","filter","acquisition","handleUpdateArtwork","updatedArtwork","updatedArtA","map","artwork","handleDeleteArtwork","artworkObj","handleDeleteUser","userObj","console","log","updatedUsersArray","user","handleAddComment","newComment","updatedCommentsArray","handleDeleteComment","commentObj","comment"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport Signup from './Signup';\nimport Login from './Login';\nimport Upload from './UploadArtForm';\nimport ArtPage from './ArtPage';\nimport UserPage from './UserPage';\nimport StoragePage from './StoragePage';\nimport Account from './Account';\nimport Demo from './Demo';\n\nfunction App() {\n\n    const [currentUser, setCurrentUser] = useState(null)\n    const [artworks, setArtworks] = useState([]);\n    const [users, setUsers] = useState([])\n    const [acquisitions, setAcquisitions] = useState([])\n    const [comments, setComments] = useState([])\n\n    useEffect(() => {\n      axios.get(\"/me\").then((response) => {\n           setCurrentUser(response.data)\n        });\n    }, [])\n   \n    useEffect(() => {\n      axios.get('/artworks')\n        // .then((res) => res.json())\n        .then((response) => {\n            setArtworks(response.data.reverse());\n        });\n    }, []) \n\n    \n    useEffect(() => {\n      axios.get('/users')\n          .then((response) => {\n              setUsers(response.data);\n          })\n    }, [])\n\n    useEffect(() => {\n      axios.get('/acquisitions')\n          .then((response) => {\n              setAcquisitions(response.data);\n          })\n    }, [])\n\n    useEffect(() => {\n      axios.get('/comments')\n          .then(response => {\n              setComments(response.data);\n          })\n    }, [])\n\n    function handleAddAcquisition(newUserAcq) {\n      const updatedAcquisitionsArray = [newUserAcq, ...acquisitions]\n      setAcquisitions(updatedAcquisitionsArray)\n    }\n\n    function handleAddArtwork(newArtwork) {\n        const updatedArtworksArray = [newArtwork, ...artworks];\n        setArtworks(updatedArtworksArray)\n    } \n\n    function handleDeleteAcquisition(acquisitionObject) {\n        const { id } = acquisitionObject\n        const updatedAcqA = acquisitions.filter((acquisition) => acquisition.id !== id);\n        setAcquisitions(updatedAcqA);\n    } \n\n    function handleUpdateArtwork(updatedArtwork) {\n        const { id } = (updatedArtwork)\n        const updatedArtA = artworks.map((artwork) => {\n            if (artwork.id === id) {\n                return updatedArtwork;\n            } else {\n                return artwork;\n            }\n        })\n        setArtworks(updatedArtA);\n    }\n\n\n    function handleDeleteArtwork(artworkObj) {\n        const { id } = artworkObj\n        const updatedArtworksArray = artworks.filter((artwork) => artwork.id !== id);\n        setArtworks(updatedArtworksArray);\n    }  \n\n    function handleDeleteUser(userObj) {\n      console.log(userObj)\n      const { id } = userObj\n      const updatedUsersArray = users.filter((user) => user.id !== id);\n      setUsers(updatedUsersArray);\n  } \n\n    function handleAddComment(newComment) {\n      const updatedCommentsArray = [newComment, ...comments];\n      setComments(updatedCommentsArray)\n  } \n\n  function handleDeleteComment(commentObj) {\n      const { id } = commentObj\n      const updatedCommentsArray = comments.filter((comment) => comment.id !== id);\n      setComments(updatedCommentsArray);\n  } \n\n  console.log(currentUser)\n      \n      return (\n        <div className=\"app\">\n            <NavBar currentUser={currentUser} setCurrentUser={setCurrentUser} />\n                <Switch>\n                  {currentUser ? (\n                    <>\n                    <Route exact path=\"/studio\">\n                      <Upload currentUser={currentUser} onCreateArtwork={handleAddArtwork}/>\n                    </Route>\n                    <Route exact path=\"/my_storage\">\n                      <StoragePage \n                        currentUser={currentUser}\n                        acquisitions={acquisitions}\n                        artworks={artworks}\n                        onDeleteArtwork={handleDeleteArtwork}\n                        onDeleteAcquisition={handleDeleteAcquisition}\n                        onUpdateArtwork={handleUpdateArtwork}\n                        />\n                    </Route>\n                    <Route exact path=\"/account\">\n                      <Account \n                      setCurrentUser={setCurrentUser} \n                      currentUser={currentUser}\n                      onDeleteUser={handleDeleteUser}\n                      />\n                    </Route>\n                    <Route exact path=\"/\" >\n                      <ArtPage \n                        currentUser={currentUser} \n                        artworks={artworks} \n                        onAcquireArtwork={handleAddAcquisition}/>\n                    </Route>\n                    <Route exact path=\"/users_collections\">\n                      <UserPage \n                        users={users}\n                        comments={comments}\n                        acquisitions={acquisitions} \n                        currentUser={currentUser} \n                        onAcquireArtwork={handleAddAcquisition}\n                        onAddComment={handleAddComment}\n                        onDeleteComment={handleDeleteComment}\n                        />\n                    </Route>\n                    <Route exact path=\"/demo\">\n                      <Demo/>\n                    </Route>\n                    </>\n                  ) : (\n                    <>\n                    <Route exact path=\"/login\">\n                      <Login setCurrentUser={setCurrentUser}/>\n                    </Route>\n                    <Route exact path=\"/signup\">\n                      <Signup setCurrentUser={setCurrentUser}/>\n                    </Route>\n                    <Route exact path=\"/\" >\n                      <ArtPage \n                        currentUser={currentUser} \n                        artworks={artworks} \n                        onAcquireArtwork={handleAddAcquisition}/>\n                    </Route>\n                    <Route exact path=\"/demo\">\n                      <Demo/>\n                    </Route>\n                    </>\n                  )}\n                </Switch>\n       </div>\n      );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}